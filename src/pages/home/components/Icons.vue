<template>
    <div class="icons">
        <swiper>
             <swiper-slide v-for="(page,i) in pages" :key="i">
                <div class="icon" 
                v-for="(item, index) in page" :key="index">
                    <div class="icon-img">
                        <img class="icon-img-content" :src="item.imgUrl">
                    </div>
                    <P class="icon-desc">{{item.desc}}</P>
                </div>
              </swiper-slide>
        </swiper>
    </div>
</template>

<script>
export default {
    name:"HomeIcons",
    data() {
       return {
           iconList:[
            {
               id:"0001",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/group.png",
               desc:'景点门票'
           },
           {
               id:"0002",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/bargainflight.png",
               desc:'滑雪季'
           },
           {
               id:"0003",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/inn.png",
               desc:'泡温泉'
           },
           {
               id:"0004",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/haiwai.png",
               desc:'动植园'
           },
           {
               id:"0005",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/kezhan.png",
               desc:'景点门票'
           },
            {
               id:"0006",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/bus.png",
               desc:'景点门票'
           },
            {
               id:"0007",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/tuan.png",
               desc:'景点门票'
           },
            {
               id:"0008",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/car.png",
               desc:'景点门票'
           },
            {
               id:"0009",
               imgUrl:"//s.qunarzz.com/homenode/images/touchheader/travel.png",
               desc:'一日游'
           }]
       }
   },
    computed: {
        pages(){
            const pages=[]
            this.iconList.forEach((item,index)=>{
                const page=Math.floor(index/8)
                if(!pages[page])
                {
                    pages[page]=[]
                }
                pages[page].push(item);
            })
            return pages
        }
    }
}
</script>

<style lang="stylus" scoped>
    .icons
        overflow:hidden
        height 0
        padding-bottom 50%
        .icon
            position relative
            overflow hidden
            float left  
            width 25%
            height 0
            padding-bottom 25%
            .icon-img
                position:absolute
                top 0
                left 0
                right 0
                bottom .44rem
                box-sizin border-box
                padding .1rem
                .icon-img-content
                    display block
                    margin 0 auto 
                    height 100%
            .icon-desc
                position absolute
                left 0
                right 0
                bottom 0
                height .44rem
                line-height .44rem
                color #333
                text-align:center
</style>
